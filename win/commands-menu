#!/bin/bash

SCRIPTS="${HOME}/scripts"

COMMAND_RUN_SELECTION_IN_TERMINAL="${SCRIPTS}/win/run-selection-in-terminal.sh"
COMMAND_RUN_SELECTION_IN_TERMINAL_TITLE="Run selection in terminal (Win-E)"

COMMAND_SAY_SELECTION_WITH_RHVOICE="${SCRIPTS}/win/say-selection-rhvoice.sh"
COMMAND_SAY_SELECTION_WITH_RHVOICE_TITLE="Say selection with rhvoice (Win-Y / Win-W)"

COMMAND_SELECTION_CURL_ARGS_TRANSFORM="${SCRIPTS}/win/selection-curl-args-transform.sh"
COMMAND_SELECTION_CURL_ARGS_TRANSFORM_TITLE="Selection CURL args transform (Win-T)"

COMMAND_SELECTION_JSON_PRETTY_PRINT="${SCRIPTS}/win/selection-json-pretty-print.sh"
COMMAND_SELECTION_JSON_PRETTY_PRINT_TITLE="Selection JSON pretty print"

COMMAND_CHROME_DEVTOOLS_COPY_URL="${SCRIPTS}/win/chrome-devtools-copy-curl-mod.sh"
COMMAND_CHROME_DEVTOOLS_COPY_URL_TITLE="Chrome DevTools: copy CURL (Win-M)"

COMMAND_CHROME_DEVTOOLS_COPY_TOKEN="${SCRIPTS}/win/chrome-devtools-copy-token.sh"
COMMAND_CHROME_DEVTOOLS_COPY_TOKEN_TITLE="Chrome DevTools: copy token (Win-N)"

COMMAND_COPY_IN_BACKTICKS="${SCRIPTS}/win/command-copy-in-backticks.sh"
COMMAND_COPY_IN_BACKTICKS_TITLE="Copy in backticks (\`\`)"

# sleep 1
# $COMMAND_RUN_SELECTION_IN_TERMINAL
# exit

read -r -d '' MENU_ITEMS << END_OF_MENU
${COMMAND_SAY_SELECTION_WITH_RHVOICE_TITLE}
${COMMAND_COPY_IN_BACKTICKS_TITLE}
${COMMAND_RUN_SELECTION_IN_TERMINAL_TITLE}
${COMMAND_SELECTION_CURL_ARGS_TRANSFORM_TITLE}
${COMMAND_SELECTION_JSON_PRETTY_PRINT_TITLE}
${COMMAND_CHROME_DEVTOOLS_COPY_TOKEN_TITLE}
${COMMAND_CHROME_DEVTOOLS_COPY_URL_TITLE}
END_OF_MENU

RESULT=$(echo -e "$MENU_ITEMS" | rofi -dmenu)

sleep 0.1

case "$RESULT" in
  "${COMMAND_RUN_SELECTION_IN_TERMINAL_TITLE}" )
    ${COMMAND_RUN_SELECTION_IN_TERMINAL}
  ;;
  "${COMMAND_COPY_IN_BACKTICKS_TITLE}" )
    ${COMMAND_COPY_IN_BACKTICKS}
  ;;
  "${COMMAND_SAY_SELECTION_WITH_RHVOICE_TITLE}" )
    ${COMMAND_SAY_SELECTION_WITH_RHVOICE}
  ;;
  "${COMMAND_SELECTION_CURL_ARGS_TRANSFORM_TITLE}" )
    ${COMMAND_SELECTION_CURL_ARGS_TRANSFORM}
  ;;
  "${COMMAND_SELECTION_JSON_PRETTY_PRINT_TITLE}" )
    ${COMMAND_SELECTION_JSON_PRETTY_PRINT}
  ;;
  "${COMMAND_CHROME_DEVTOOLS_COPY_TOKEN_TITLE}" )
    ${COMMAND_CHROME_DEVTOOLS_COPY_TOKEN}
  ;;
esac
